/**********************************************************************************************************************
 * @file        rain_sensor.h
 * @brief       Driver for rain sensor
 * @version     1.0
 * @date        2025-01-19
 *  *********************************************************************************************************************/

#ifndef INC_SENSORS_RAIN_SENSOR_H_
#define INC_SENSORS_RAIN_SENSOR_H_

/*********************************************************************************************************************/
/*-----------------------------------------------------Includes------------------------------------------------------*/
#include "Ifx_Types.h"
#include "IfxVadc.h"
#include "IfxVadc_Adc.h"

#include "Bsp.h"
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*------------------------------------------------------Macros-------------------------------------------------------*/
#define NO_RAIN_DETECTED    0
#define RAIN_DETECTED       1
#define RAIN_THRESHOLD      2500
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*-------------------------------------------------Global variables--------------------------------------------------*/
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*-------------------------------------------------Data Structures---------------------------------------------------*/
typedef struct
{
    IfxVadc_Adc vadc; /* VADC handle */
    IfxVadc_Adc_Group adcGroup;
} RainSensorVadcAutoScan;

IFX_EXTERN RainSensorVadcAutoScan g_rain_sensor_scan;
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*--------------------------------------------Private Variables/Constants--------------------------------------------*/
/*********************************************************************************************************************/


/*********************************************************************************************************************/
/*------------------------------------------------Function Prototypes------------------------------------------------*/
extern void init_rain_sensor(void);
void start_rain_sensor_conversion(void);
uint32 obtain_rain_sensor_data(void);
extern uint32 get_rain_sensor_analog_value(void);
extern boolean is_raining(void);
/*********************************************************************************************************************/


#endif /* INC_SENSORS_RAIN_SENSOR_H_ */
